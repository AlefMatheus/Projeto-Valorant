var xsso=function(n){"use strict";function e(n,e,t){if(t||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}var t,o=function(){return window},r=function(){return document};!function(n){n.Init="init",n.Set="set",n.Unchanged="unchanged",n.PollAborted="poll_aborted",n.LoginRequired="login_required",n.Limited="limited"}(t||(t={}));var i=Object.values(t).reduce((function(n,e){return n[e]=!0,n}),{}),u=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return function(e){try{e.apply(void 0,n)}catch(n){console.error(n)}}},c=t.Init,a=function(){return c},l=[],s=function(n){return l.forEach(u("error",n))},d=function(n){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];i[n]&&(c=n),l.forEach(u.apply(void 0,e([n],t)))},f=function(n){return r().querySelector(n)},p=function(n,e,t){return n.setAttribute(e,t)};var v=function(){return f("body")};function h(n,e){var t,o,i=f("#"+n);return i&&(null===(o=(t=i).parentElement)||void 0===o||o.removeChild(t)),(i=function(){var n=r().createElement("iframe");return p(n,"frameborder","0"),p(n,"width","0"),p(n,"height","0"),p(n,"style","display:block; visibility:hidden; height:0; width:0; left:0; top:0; position:absolute; opacity:0"),n}()).id=n,i.src=null!=e?e:"about:blank",i}function g(n,e){n.onload=function(){n.onload=null,setTimeout((function(){return e(n)}),0)}}function m(n,e,t){var o;null===(o=n.contentWindow)||void 0===o||o.postMessage(e,t)}function y(n){var e=n.cookie.split("; ").map((function(n){return n.split("=")}));return Object.fromEntries(e)}var b,_,w,k,S;function E(){try{var n=y(r())["__Secure-id_hint"];if(n){var e=JSON.parse(decodeURIComponent(n));if("object"==typeof e&&null!==e)return e}}catch(n){s(n)}}function L(n,e,t){var o=n+"riot-owned-iframe",r=h("riot-owned",o);return g(r,(function(){return m(r,"prompt=none&response_type=code&client_id="+e+"&scope="+t,o)})),v().append(r),r}function O(){d("polling");var n=f("#check-session");if(n){var e=function(){try{var n=y(r())["__Secure-session_state"];if(n)return decodeURIComponent(n)}catch(n){s(n)}}();e?m(n,k+" "+e,_):L(_,k,w)}else d("poll_aborted","missing iframe")}function U(){void 0!==S&&clearTimeout(S),S=o().setTimeout(O,b)}function q(){E()?d("limited","known but unable to poll session or login through iframe"):d("login_required","unknown to local domain and unknown to issuer")}return n.attemptLoginPromptNone=function(){L(_,k,w)},n.id=function(){var n=a();if(n===t.Set||n===t.Unchanged||n===t.Limited)return E()},n.init=function(n){var t,r;_=new URL(n.origin).toString(),k=n.client_id,b=null!==(t=n.interval)&&void 0!==t?t:15e3,w=null!==(r=n.scope)&&void 0!==r?r:"openid account";var i,u,c={not_found:function(){return d("login_required","unknown to issuer")},unsupported:q,unchanged:U,set:U,changed:function(){return L(_,k,w)},error:function(){return d("poll_aborted","unknown error in check-session iframe")}};!function(n){var e=n+"check-session-iframe",t=h("check-session",e);g(t,(function(){d("loaded",e)})),v().append(t)}(_),i=_,u=function(n){var t="XSSO::";if(n.startsWith(t)){n=n.slice(t.length);var o,r,i=-1!==(r=(o=n).indexOf(" "))?[o.slice(0,r),o.slice(r+1)]:[o],u=i[0],a=i.slice(1);u in c&&c[u](),d.apply(void 0,e([u],a))}},o().addEventListener("message",(function(n){try{var e=n,t=e.data,o=e.origin;new URL(o).toString()===i&&"string"==typeof t&&u(t)}catch(n){s(n)}}),!1)},n.onEvent=function(n){return l.push(n)},n.poll=O,n.state=a,Object.defineProperty(n,"__esModule",{value:!0}),n}({});
//# sourceMappingURL=xsso.min.js.map
;xsso.onEvent(type => type === 'loaded' && xsso.poll());xsso.init({client_id:'prod-xsso-playvalorant',origin:'https://xsso.playvalorant.com',issuer:'https://auth.riotgames.com'});